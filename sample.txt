sqlplus TPCH_USER/tpch123@localhost/FREEPDB1

sqlplus system@localhost/FREEPDB1

SELECT * 
FROM TABLE(
    DBMS_XPLAN.DISPLAY_CURSOR(
        NULL, 
        NULL, 
        'ALLSTATS LAST'
    )
);

ALTER SESSION SET statistics_level = ALL;

SELECT sql_id, sql_text, last_active_time
FROM v$sql
WHERE sql_text LIKE 'COUNT(*)';

SELECT *
FROM TABLE(DBMS_SQL_MONITOR.REPORT_SQL_MONITOR(
        sql_id => '9u76tuydnbcat',
        type   => 'TEXT',
        report_level => 'ALL'));

SELECT *
FROM   dba_policies
WHERE  object_owner = 'SYSTEM'
AND    object_name  = 'LINEITEM';

BEGIN
    FOR p IN (
        SELECT policy_name, object_owner, object_name
        FROM   dba_policies
        WHERE  object_owner = 'SYSTEM'       -- change schema if needed
        AND    object_name  = 'CUSTOMER'
    )
    LOOP
        DBMS_RLS.DROP_POLICY(
            object_schema => p.object_owner,
            object_name   => p.object_name,
            policy_name   => p.policy_name
        );
    END LOOP;
END;
/


CREATE INDEX idx_li_order
    ON system.lineitem (l_orderkey);

CREATE INDEX idx_li_supp
    ON system.lineitem (l_suppkey);

CREATE INDEX idx_li_order_supp
    ON system.lineitem (l_orderkey, l_suppkey);

CREATE INDEX idx_li_supp_order
    ON system.lineitem (l_suppkey, l_orderkey);

CREATE INDEX idx_cust_ord
ON orders (o_custkey, o_orderkey);

CREATE INDEX idx_ord_cust 
ON orders (o_orderkey, o_custkey);

CREATE INDEX idx_o_custkey
    ON system.orders (o_custkey);

CREATE BITMAP INDEX idx_cust_nation ON customer (c_nationkey);
CREATE BITMAP INDEX idx_supp_nation ON supplier (s_nationkey);

DROP INDEX system.idx_li_order;
DROP INDEX system.idx_li_supp;
DROP INDEX system.idx_li_supp_order;
DROP INDEX system.idx_li_order_supp;
DROP INDEX system.idx_cust_ord;
DROP INDEX system.idx_o_custkey;
DROP INDEX system.idx_ord_cust;

DROP INDEX idx_cust_nation;
DROP INDEX idx_supp_nation;

DROP INDEX idx_ps_suppkey;
DROP INDEX idx_ps_partkey_supplycost;
DROP INDEX idx_ps_partkey;
DROP INDEX idx_ps_suppkey_partkey;

CREATE INDEX idx_ps_suppkey ON SYSTEM.PARTSUPP(ps_suppkey);
CREATE INDEX idx_ps_partkey ON SYSTEM.PARTSUPP(ps_partkey);

CREATE INDEX idx_ps_suppkey_partkey
    ON SYSTEM.PARTSUPP(ps_suppkey, ps_partkey);

CREATE INDEX idx_ps_partkey_supplycost
    ON SYSTEM.PARTSUPP(ps_partkey, ps_supplycost);

git init
git remote add origin https://github.com/Vignesh3538/BenchmarkingOracleVPD.git
git add .
git commit -m "Date"
git branch -M main
git push origin main --force


